<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Ronan Blog</title>
    <link>http://localhost:1313/posts/</link>
    <description>Recent content in Posts on Ronan Blog</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Mon, 01 Nov 2021 18:10:14 +0100</lastBuildDate>
    <atom:link href="http://localhost:1313/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ssh 免密登录</title>
      <link>http://localhost:1313/posts/ssh-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</link>
      <pubDate>Mon, 01 Nov 2021 18:10:14 +0100</pubDate>
      <guid>http://localhost:1313/posts/ssh-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</guid>
      <description>&lt;h1 id=&#34;1创建密钥&#34;&gt;1创建密钥&lt;/h1&gt;&#xA;&lt;p&gt;在本地主机终端输入&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ssh-keygen&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;之后一路回车，不出意外的话，你将看到以下内容&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&lt;a href=&#34;https://imgs.ronan.us.kg/ssh-keygen.png&#34; data-dimbox data-dimbox-caption=&#34;img&#34;&gt;&#xA;  &lt;img alt=&#34;img&#34; src=&#34;https://imgs.ronan.us.kg/ssh-keygen.png&#34;/&gt;&#xA;&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;恭喜，你已经完成第一步！&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;2检查密钥是否创建成功&#34;&gt;2检查密钥是否创建成功&lt;/h1&gt;&#xA;&lt;p&gt;在终端输入&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ls .ssh&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;看到以下内容&lt;/p&gt;&#xA;&lt;p&gt;&#xA;&lt;a href=&#34;https://imgs.ronan.us.kg/ls_.ssh.png&#34; data-dimbox data-dimbox-caption=&#34;img&#34;&gt;&#xA;  &lt;img alt=&#34;img&#34; src=&#34;https://imgs.ronan.us.kg/ls_.ssh.png&#34;/&gt;&#xA;&lt;/a&gt;&#xA;&lt;/p&gt;&#xA;&lt;p&gt;看到其中有&lt;code&gt;id_ed25519&lt;/code&gt;(私钥))&lt;strong&gt;其中的ed25519在不同设备可能会有不同，有的可能是id_rsa&lt;/strong&gt;、&lt;code&gt;id_ed25519.pub&lt;/code&gt;(公钥)两个文件，恭喜，你已经完成第二步了，离成功更近了！&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;3将公钥复制到远程主机&#34;&gt;3将公钥复制到远程主机&lt;/h1&gt;&#xA;&lt;p&gt;在终端键入&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ssh-copy-id -i &amp;lt;~/.ssh/id_ed25519.pub&amp;gt; &amp;lt;username&amp;gt;@&amp;lt;remote_ip&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中的&lt;code&gt;&amp;lt;~/.ssh/id_ed25519.pub&amp;gt;&lt;/code&gt; 是公钥所处的路径，&lt;code&gt;&amp;lt;username&amp;gt;&lt;/code&gt;是用户名，&lt;code&gt;&amp;lt;remote_ip&amp;gt;&lt;/code&gt;是主机名或IP 地址。&lt;/p&gt;&#xA;&lt;p&gt;这条命令会将公钥保存到远程主机的 &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; 文件中。&lt;/p&gt;&#xA;&lt;p&gt;恭喜你，现在可以不再每次登录都需要输入密码了！！！&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h1 id=&#34;4问题排查&#34;&gt;4问题排查&lt;/h1&gt;&#xA;&lt;p&gt;有时候因为之前的服务器重装了系统，但是在本地主机仍然保存着之前的私钥，所以在重新登录远程服务器时会遇到以下问题&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❯ ssh root@&amp;lt;your_remote_ip&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Someone could be eavesdropping on you right now &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;man-in-the-middle attack&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;!&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;It is also possible that a host key has just been changed.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;The fingerprint &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; the ED25519 key sent by the remote host is&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SHA256:voGkOAiSibnvAWCsXNasOzsmdMnc2ff7MHE2jsZRfSE.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Please contact your system administrator.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Add correct host key in /Users/iaa/.ssh/known_hosts to get rid of this message.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Offending ED25519 key in /Users/iaa/.ssh/known_hosts:28&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Host key &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; aby.ronan.cloudns.ch has changed and you have requested strict checking.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Host key verification failed.&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;41解决方法&#34;&gt;4.1解决方法&lt;/h2&gt;&#xA;&lt;p&gt;运行以下命令来删除旧的主机密钥&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
